(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{272:function(t,e,o){"use strict";o.r(e);var c=o(233),n=(o(23),o(26),o(15),o(214),o(27),o(215),o(216),o(217),o(218),o(219),o(220),o(221),o(222),o(223),o(224),o(225),o(226),o(227),o(228),o(229),o(230),o(35),o(81),o(46),o(160),o(161),{computed:{state:function(){return this.$store.state},width:function(){return this.$store.state.width},height:function(){return this.$store.state.height},pixelWH:function(){return this.$store.state.pixelWH},frames:function(){return this.$store.state.frames},seconds:function(){return this.$store.state.seconds},colors:function(){var t=[];return this.$store.state.frames.forEach((function(e){Object.keys(e[0].colors).forEach((function(e){t.push(e)}))})),t=Object(c.a)(new Set(t)),t}},methods:{importPixelArt:function(){document.getElementById("importPixelArt").click()},importPixelArtFile:function(t){var e=this,o=t.target.files[0],c=new FileReader;c.readAsText(o,"UTF-8"),c.onload=function(t){e.$store.commit("importFile",{file:JSON.parse(t.target.result)}),document.getElementById("importPixelArt").value=""}},exportPixelArt:function(){var t={};t.frames=this.state.frames,t.width=this.state.width,t.height=this.state.height,t.seconds=this.state.seconds;var e=JSON.stringify(t),o="data:application/json;charset=utf-8,"+encodeURIComponent(e),c=document.createElement("a");c.href=o,c.download="".concat(Date.now(),".svgpixelart"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},transformToSvg:function(data){var t=this,e="";return data.forEach((function(o){var c=o.x,n=o.y,r=t.pixelWH,l="M".concat((c-1)*r,",").concat((n-1)*r," ").concat(c*r,",").concat((n-1)*r," ").concat(c*r,",").concat(n*r," ").concat((c-1)*r,",").concat(n*r," ");e+=l})),e},transformToSvgColor:function(t){var e=this,o="";return this.frames.forEach((function(c,n){void 0!==e.frames[n][0].colors[t]?(e.frames[n][0].colors[t].pixels.forEach((function(t){var c=t.x,n=t.y,r=e.pixelWH,l="M".concat((c-1)*r,",").concat((n-1)*r," ").concat(c*r,",").concat((n-1)*r," ").concat(c*r,",").concat(n*r," ").concat((c-1)*r,",").concat(n*r);o+=l})),o+=";"):o+="M;"})),o},exportSvg:function(){var t="static";t=1===this.frames.length?"static":"animated";var e="SvgPixelArt-".concat(t,"-").concat(Date.now());this.saveSvg(e)},saveSvg:function(t){var e=this,o='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.width,'" height="').concat(this.height,'" viewBox="0 0 ').concat(this.width*this.pixelWH," ").concat(this.height*this.pixelWH,'">');1===this.frames.length?Object.keys(this.frames[0][0].colors).forEach((function(t){o+='<path d="'.concat(e.transformToSvg(e.frames[0][0].colors[t].pixels),'" fill="#').concat(t,'"></path>')})):this.colors.forEach((function(t){var c=e.transformToSvgColor(t),n=c.split(";");o+='<path d="'.concat(n[0],'" fill="#').concat(t,'"><animate attributeName="d" dur="').concat(e.seconds,'s" repeatCount="indefinite" calcMode="discrete" values="').concat(c,'"/></path>')})),o+="</svg>";var c=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(c),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}),r=o(18),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("button",{staticClass:"success",on:{click:t.exportSvg}},[t._v("Download SVG")]),t._v(" "),o("button",{staticClass:"info",on:{click:t.exportPixelArt}},[t._v("Save")]),t._v(" "),o("button",{staticClass:"info",on:{click:t.importPixelArt}},[t._v("Import")]),t._v(" "),o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"importPixelArt",accept:".svgpixelart"},on:{change:t.importPixelArtFile}})])}),[],!1,null,null,null);e.default=component.exports}}]);